<template>
  <div class="min-h-screen bg-gray-50 p-6">
    <div class="max-w-6xl mx-auto">
      <h1 class="text-3xl font-bold text-gray-900 mb-8">è·¯ç”±è¿ç§»æµ‹è¯•é¡µé¢</h1>

      <!-- è¿ç§»çŠ¶æ€æ€»è§ˆ -->
      <div class="bg-white rounded-lg shadow-sm border p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">
          <i class="pi pi-check-circle text-green-600 mr-2"></i>
          è¿ç§»å®ŒæˆçŠ¶æ€
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-medium text-gray-700 mb-3">âœ… å·²å®Œæˆ</h3>
            <ul class="space-y-2 text-sm text-gray-600">
              <li class="flex items-center gap-2">
                <i class="pi pi-check text-green-500"></i>
                åˆ›å»º admin/rooms è·¯ç”±ç»“æ„
              </li>
              <li class="flex items-center gap-2">
                <i class="pi pi-check text-green-500"></i>
                è¿ç§»ä¼šè®®å®¤ç»Ÿè®¡åŠŸèƒ½
              </li>
              <li class="flex items-center gap-2">
                <i class="pi pi-check text-green-500"></i>
                è¿ç§»ä¼šè®®å®¤å¯ç”¨æ—¶é—´é¡µé¢
              </li>
              <li class="flex items-center gap-2">
                <i class="pi pi-check text-green-500"></i>
                è¿ç§»ä¼šè®®å®¤è¯¦æƒ…é¡µé¢
              </li>
              <li class="flex items-center gap-2">
                <i class="pi pi-check text-green-500"></i>
                æ›´æ–°æ‰€æœ‰å¯¼èˆªé“¾æ¥
              </li>
              <li class="flex items-center gap-2">
                <i class="pi pi-check text-green-500"></i>
                ç§»é™¤åŸæœ‰ /rooms è·¯ç”±
              </li>
            </ul>
          </div>
          <div>
            <h3 class="text-lg font-medium text-gray-700 mb-3">ğŸ”„ æ–°è·¯ç”±ç»“æ„</h3>
            <ul class="space-y-2 text-sm text-gray-600">
              <li class="flex items-center gap-2">
                <i class="pi pi-arrow-right text-blue-500"></i>
                /admin/rooms â†’ ä¼šè®®å®¤ç®¡ç†ä¸»é¡µ
              </li>
              <li class="flex items-center gap-2">
                <i class="pi pi-arrow-right text-blue-500"></i>
                /admin/rooms/availability â†’ å¯ç”¨æ—¶é—´ç®¡ç†
              </li>
              <li class="flex items-center gap-2">
                <i class="pi pi-arrow-right text-blue-500"></i>
                /admin/rooms/[id] â†’ ä¼šè®®å®¤è¯¦æƒ…
              </li>
              <li class="flex items-center gap-2">
                <i class="pi pi-arrow-right text-blue-500"></i>
                /admin/rooms/create â†’ æ–°å»ºä¼šè®®å®¤
              </li>
              <li class="flex items-center gap-2">
                <i class="pi pi-arrow-right text-blue-500"></i>
                /admin/rooms/[id]/edit â†’ ç¼–è¾‘ä¼šè®®å®¤
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- æµ‹è¯•é“¾æ¥åŒºåŸŸ -->
      <div class="bg-white rounded-lg shadow-sm border p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">
          <i class="pi pi-external-link text-blue-600 mr-2"></i>
          æ–°è·¯ç”±æµ‹è¯•é“¾æ¥
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
            <h3 class="font-medium text-gray-900 mb-2">ä¼šè®®å®¤ç®¡ç†ä¸»é¡µ</h3>
            <p class="text-sm text-gray-600 mb-3">åŒ…å«ç»Ÿè®¡åŠŸèƒ½çš„ç®¡ç†é¡µé¢</p>
            <NuxtLink
              to="/admin/rooms"
              class="inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"
            >
              <i class="pi pi-arrow-right mr-2"></i>
              è®¿é—® /admin/rooms
            </NuxtLink>
          </div>

          <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
            <h3 class="font-medium text-gray-900 mb-2">å¯ç”¨æ—¶é—´ç®¡ç†</h3>
            <p class="text-sm text-gray-600 mb-3">ä¼šè®®å®¤å¯ç”¨æ—¶é—´æŸ¥çœ‹å’Œç®¡ç†</p>
            <NuxtLink
              to="/admin/rooms/availability"
              class="inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"
            >
              <i class="pi pi-arrow-right mr-2"></i>
              è®¿é—® /admin/rooms/availability
            </NuxtLink>
          </div>

          <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
            <h3 class="font-medium text-gray-900 mb-2">æ–°å»ºä¼šè®®å®¤</h3>
            <p class="text-sm text-gray-600 mb-3">åˆ›å»ºæ–°çš„ä¼šè®®å®¤</p>
            <NuxtLink
              to="/admin/rooms/create"
              class="inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"
            >
              <i class="pi pi-arrow-right mr-2"></i>
              è®¿é—® /admin/rooms/create
            </NuxtLink>
          </div>

          <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
            <h3 class="font-medium text-gray-900 mb-2">ä¼šè®®å®¤è¯¦æƒ…</h3>
            <p class="text-sm text-gray-600 mb-3">æŸ¥çœ‹ä¼šè®®å®¤è¯¦ç»†ä¿¡æ¯ (ID: 1)</p>
            <NuxtLink
              to="/admin/rooms/1"
              class="inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"
            >
              <i class="pi pi-arrow-right mr-2"></i>
              è®¿é—® /admin/rooms/1
            </NuxtLink>
          </div>

          <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
            <h3 class="font-medium text-gray-900 mb-2">ç¼–è¾‘ä¼šè®®å®¤</h3>
            <p class="text-sm text-gray-600 mb-3">ç¼–è¾‘ä¼šè®®å®¤ä¿¡æ¯ (ID: 1)</p>
            <NuxtLink
              to="/admin/rooms/1/edit"
              class="inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"
            >
              <i class="pi pi-arrow-right mr-2"></i>
              è®¿é—® /admin/rooms/1/edit
            </NuxtLink>
          </div>

          <div class="border rounded-lg p-4 hover:bg-gray-50 transition-colors">
            <h3 class="font-medium text-gray-900 mb-2">è¿”å›ä¸»é¡µ</h3>
            <p class="text-sm text-gray-600 mb-3">æµ‹è¯•ä¸»é¡µé“¾æ¥æ›´æ–°</p>
            <NuxtLink
              to="/"
              class="inline-flex items-center px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors"
            >
              <i class="pi pi-home mr-2"></i>
              è¿”å›ä¸»é¡µ
            </NuxtLink>
          </div>
        </div>
      </div>

      <!-- æƒé™æµ‹è¯•åŒºåŸŸ -->
      <div class="bg-white rounded-lg shadow-sm border p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">
          <i class="pi pi-shield text-purple-600 mr-2"></i>
          æƒé™è®¿é—®æµ‹è¯•
        </h2>
        <div class="space-y-4">
          <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
            <div>
              <h3 class="font-medium text-gray-900">å½“å‰ç”¨æˆ·æƒé™</h3>
              <p class="text-sm text-gray-600">æµ‹è¯•ä¸åŒæƒé™çº§åˆ«å¯¹ä¼šè®®å®¤ç®¡ç†çš„è®¿é—®</p>
            </div>
            <div class="text-right">
              <div class="text-sm text-gray-500">ç”¨æˆ·è§’è‰²:</div>
              <div class="font-medium text-gray-900">{{ userRole || 'æœªç™»å½•' }}</div>
              <div class="text-xs text-gray-500 mt-1">
                room:read = {{ canAccess('room', 'read') ? 'âœ…' : 'âŒ' }}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- æ—§è·¯ç”±æµ‹è¯•åŒºåŸŸ -->
      <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6">
        <h2 class="text-xl font-semibold text-yellow-800 mb-4">
          <i class="pi pi-exclamation-triangle text-yellow-600 mr-2"></i>
          æ—§è·¯ç”±éªŒè¯ (åº”æ˜¾ç¤º404)
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="border border-yellow-300 rounded-lg p-4 bg-yellow-100">
            <h3 class="font-medium text-yellow-900 mb-2">æ—§ä¼šè®®å®¤ä¸»é¡µ</h3>
            <p class="text-sm text-yellow-700 mb-3">åº”è¯¥æ˜¾ç¤º 404 é”™è¯¯</p>
            <NuxtLink
              to="/rooms"
              class="inline-flex items-center px-3 py-2 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 transition-colors"
            >
              <i class="pi pi-times mr-2"></i>
              è®¿é—® /rooms (åº”404)
            </NuxtLink>
          </div>

          <div class="border border-yellow-300 rounded-lg p-4 bg-yellow-100">
            <h3 class="font-medium text-yellow-900 mb-2">æ—§å¯ç”¨æ—¶é—´é¡µé¢</h3>
            <p class="text-sm text-yellow-700 mb-3">åº”è¯¥æ˜¾ç¤º 404 é”™è¯¯</p>
            <NuxtLink
              to="/rooms/availability"
              class="inline-flex items-center px-3 py-2 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 transition-colors"
            >
              <i class="pi pi-times mr-2"></i>
              è®¿é—® /rooms/availability (åº”404)
            </NuxtLink>
          </div>

          <div class="border border-yellow-300 rounded-lg p-4 bg-yellow-100">
            <h3 class="font-medium text-yellow-900 mb-2">æ—§ä¼šè®®å®¤è¯¦æƒ…</h3>
            <p class="text-sm text-yellow-700 mb-3">åº”è¯¥æ˜¾ç¤º 404 é”™è¯¯</p>
            <NuxtLink
              to="/rooms/1"
              class="inline-flex items-center px-3 py-2 bg-yellow-600 text-white text-sm rounded-lg hover:bg-yellow-700 transition-colors"
            >
              <i class="pi pi-times mr-2"></i>
              è®¿é—® /rooms/1 (åº”404)
            </NuxtLink>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
// é¡µé¢è®¾ç½®
definePageMeta({
  layout: 'default',
  middleware: 'auth'
})

// è®¤è¯ä¿¡æ¯
const { user, userRole, canAccess } = useAuth()
</script>

<style scoped>
/* æµ‹è¯•é¡µé¢æ ·å¼ */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
</style>